System.register(["./index-afb0c019.js","./node-event-4f5034aa.js","./director-b74238a1.js","./pipeline-state-manager-0224ea41.js","./buffer-barrier-65f53aec.js","./deprecated-8eb5eea0.js","./builtin-pipelines-d2876cc8.js","./deprecated-219c6f74.js","./camera-component-ae452a1f.js","./model-renderer-460ecd33.js","./renderer-6fa5ea92.js","./deprecated-7d3dca77.js","./instantiate-0ba21f61.js","./touch-e635ba64.js","./move-65638bd1.js"],(function(e){"use strict";var a,r,t,n,o,i,s,l,u,g,p,c,d,f,b,m,S,T,y,h,C,I,P,v,D,A,R,_,B,E,M,F,O,w,L,x,j,N,z,U,V,G,H,k,W,Q,K,Y,X,q,J,Z,$,ee,ae,re,te,ne,oe,ie,se,le,ue,ge,pe,ce,de,fe,be,me,Se,Te,ye,he,Ce,Ie,Pe,ve,De,Ae,Re,_e,Be,Ee,Me,Fe,Oe,we,Le,xe,je,Ne,ze,Ue,Ve,Ge,He,ke,We,Qe,Ke,Ye,Xe,qe,Je,Ze,$e,ea,aa,ra,ta,na,oa,ia,sa,la,ua,ga,pa,ca,da,fa,ba,ma,Sa,Ta,ya,ha,Ca,Ia,Pa,va,Da,Aa,Ra,_a,Ba,Ea,Ma,Fa,Oa,wa,La,xa,ja,Na,za,Ua,Va,Ga,Ha,ka,Wa,Qa,Ka,Ya,Xa,qa,Ja,Za,$a,er,ar,rr,tr,nr,or,ir,sr,lr,ur,gr,pr,cr,dr,fr,br,mr,Sr,Tr,yr,hr,Cr,Ir,Pr,vr,Dr,Ar,Rr,_r,Br,Er,Mr,Fr,Or,wr,Lr,xr,jr,Nr,zr,Ur,Vr,Gr,Hr,kr,Wr,Qr,Kr,Yr,Xr,qr,Jr,Zr,$r,et,at,rt,tt,nt,ot,it,st,lt,ut,gt,pt,ct,dt,ft,bt,mt,St,Tt,yt,ht,Ct,It,Pt,vt,Dt,At,Rt,_t;return{setters:[function(b){a=b.P,r=b.R,t=b.C,n=b.l,o=b.a,i=b.w,s=b.e,l=b.b,u=b._,g=b.c,p=b.d,c=b.f,d=b.g,f=b.h,b.i,e({AffineTransform:b.A,AlphaKey:b.a$,AsyncDelegate:b.aI,BITMASK_TAG:b.bp,BitMask:b.ac,CCBoolean:b.ay,CCClass:b.at,CCFloat:b.ax,CCInteger:b.aw,CCObject:b.av,CCString:b.az,CachedArray:b.C,CallbacksInvoker:b.bt,Color:b.B,ColorKey:b.a_,CompactValueTypeArray:b.aA,DebugMode:b.aN,ENUM_TAG:b.bo,EPSILON:b.F,EasingMethod:b.bs,EditorExtendable:b.aF,Enum:b.ad,EventTarget:b.aG,Eventify:b.aH,ExtrapolationMode:b.aV,GCObject:b.bl,Gradient:b.b0,HALF_PI:b.H,MATH_FLOAT_ARRAY:b.aa,Mat3:b.M,Mat4:b.t,MathBase:b.ab,ObjectCurve:b.aZ,Pool:b.P,Quat:b.Q,QuatCurve:b.aX,QuatInterpolationMode:b.aY,RealCurve:b.aT,RealInterpolationMode:b.aU,Rect:b.y,RecyclePool:b.R,Scheduler:b.aS,Settings:b.b1,Size:b.S,System:b.b3,TWO_PI:b.T,TangentWeightMode:b.aW,VERSION:b.k,ValueType:b.af,Vec2:b.V,Vec3:b.o,Vec4:b.q,WorldNode3DToLocalNodeUI:b.ap,WorldNode3DToWorldNodeUI:b.aq,__checkObsoleteInNamespace__:b.ao,__checkObsolete__:b.an,_decorator:b.as,_resetDebugSetting:b.bu,absMax:b.a6,absMaxComponent:b.a5,approx:b.I,assert:b.b,assertID:b.g,assertIsNonNullable:b.by,assertIsTrue:b.bz,assertsArrayIndex:b.bA,bezier:b.b5,bezierByTime:b.b6,binarySearch:b.bv,binarySearchBy:b.bx,binarySearchEpsilon:b.bw,bits:b.n,ccenum:b.ae,cclegacy:b.l,clamp:b.J,clamp01:b.K,color:b.D,convertUtils:b.ar,debug:b.aJ,deprecateModuleExportedName:b.am,deserializeTag:b.aC,disallowAnimation:b.bg,displayName:b.bb,displayOrder:b.bc,easing:b.b4,editable:b.b8,editorExtrasTag:b.aB,enumerableProps:b.a7,equals:b.G,error:b.e,errorID:b.f,floatToHalf:b.a8,formerlySerializedAs:b.bi,garbageCollectionManager:b.bk,geometry:b.j,getError:b.aM,getSerializationMetadata:b.aE,halfToFloat:b.a9,inverseLerp:b.a4,isCCClassOrFastDefined:b.au,isCCObject:b.bq,isDisplayStats:b.aK,isValid:b.br,js:b.ag,jsbUtils:b.b7,lerp:b.L,log:b.a,logID:b.c,macro:b.aQ,markAsWarning:b.al,mat4:b.u,math:b.m,misc:b.ah,nextPow2:b.a1,override:b.bh,pingPong:b.a3,preTransforms:b.E,pseudoRandom:b.Z,pseudoRandomRange:b.$,pseudoRandomRangeInt:b.a0,quat:b.s,random:b.U,randomRange:b.X,randomRangeInt:b.Y,range:b.bd,rangeStep:b.be,rect:b.z,removeProperty:b.ak,repeat:b.a2,replaceProperty:b.aj,screen:b.aO,serializable:b.bj,serializeTag:b.aD,setDefaultLogTimes:b.ai,setDisplayStats:b.aL,setPropertyEnumType:b.bm,setPropertyEnumTypeOnAttrs:b.bn,setRandGenerator:b.W,settings:b.b2,size:b.x,slide:b.bf,sys:b.aP,toDegree:b.O,toRadian:b.N,tooltip:b.b9,v2:b.v,v3:b.p,v4:b.r,visible:b.ba,visibleRect:b.aR,warn:b.w,warnID:b.d})},function(a){b=a.j,m=a.e,S=a.m,T=a.b,y=a.d,h=a.c,C=a.a,I=a._,P=a.s,v=a.g,e({Asset:a.A,Component:a.C,EventHandler:a.E,JavaScript:a.J,NodeEventType:a.N,Script:a.S,TypeScript:a.T,path:a.p})},function(a){D=a.C,A=a.a,R=a.b,_=a.c,B=a.d,E=a.e,M=a.T,F=a.f,O=a.S,w=a.g,L=a.M,x=a.h,j=a.i,N=a.A,z=a.E,U=a.j,V=a.k,G=a.l,H=a.P,k=a.m,W=a.n,Q=a.o,K=a.F,Y=a.p,X=a.q,q=a.O,J=a.r,Z=a.s,$=a.L,ee=a.t,ae=a.u,re=a.D,te=a.v,ne=a.w,oe=a.x,ie=a.R,se=a.y,le=a.z,ue=a.B,ge=a.G,pe=a.H,ce=a.I,de=a.J,fe=a.K,be=a.N,me=a.Q,Se=a.U,Te=a.V,ye=a.W,he=a.X,Ce=a.Y,Ie=a.Z,Pe=a._,ve=a.$,De=a.a0,Ae=a.a1,Re=a.a2,_e=a.a3,Be=a.a4,Ee=a.a5,Me=a.a6,Fe=a.a7,e({Acceleration:a.bf,AmbientInfo:a.aF,AssetLibrary:a.bb,AssetManager:a.b7,BaseNode:a.ax,BloomStage:a.am,BufferAsset:a.aX,BuiltinResMgr:a.bd,CCLoader:a.b9,DEFAULT_OCTREE_DEPTH:a.aL,DEFAULT_WORLD_MAX_POS:a.aK,DEFAULT_WORLD_MIN_POS:a.aJ,DebugView:a.at,DeferredPipeline:a.ai,Details:a.aW,Director:a.aT,EffectAsset:a.b3,FogInfo:a.aH,ForwardFlow:a.ag,ForwardPipeline:a.ae,ForwardStage:a.ah,GbufferStage:a.ak,ImageAsset:a.b0,Input:a.bh,InstancedBuffer:a.aq,JsonAsset:a.a$,LightProbeInfo:a.aP,LightingStage:a.al,MainFlow:a.aj,Material:a.b4,MissingScript:a.aS,MobilityMode:a.aE,Node:a.ax,NodeActivator:a.aA,NodeSpace:a.aC,OctreeInfo:a.aM,PipelineEventProcessor:a.ar,PipelineEventType:a.as,PipelineSceneData:a.ad,PostProcessStage:a.an,PostSettingsInfo:a.aO,Prefab:a.aB,PrivateNode:a.aR,ReflectionProbeFlow:a.au,ReflectionProbeStage:a.av,RenderFlow:a.ab,RenderPipeline:a.aa,RenderStage:a.ac,RenderTexture:a.b5,RenderingSubMesh:a.aY,Root:a.a8,Scene:a.ay,SceneAsset:a.aZ,SceneGlobals:a.aQ,ShadowFlow:a.ao,ShadowStage:a.ap,ShadowsInfo:a.aI,SkinInfo:a.aN,SkyboxInfo:a.aG,SystemEvent:a.bj,TextAsset:a.a_,Texture2D:a.b1,TextureCube:a.b2,TransformBit:a.aD,assetManager:a.b6,builtinResMgr:a.be,createDefaultPipeline:a.af,deserialize:a.aV,director:a.aU,find:a.az,flattenCodeArray:a.a9,getPhaseID:a.aw,input:a.bg,loader:a.ba,resources:a.b8,systemEvent:a.bi,url:a.bc})},function(a){Oe=a.L,we=a.R,Le=a.D,xe=a.d,e({Layers:a.b,PipelineStateManager:a.P,pipeline:a.a})},function(a){je=a.D,Ne=a.B,ze=a.C,Ue=a.O,Ve=a.S,Ge=a.A,He=a.a,ke=a.F,We=a.b,Qe=a.c,Ke=a.T,Ye=a.d,Xe=a.e,qe=a.M,Je=a.f,Ze=a.g,$e=a.h,ea=a.i,aa=a.j,ra=a.k,ta=a.V,na=a.l,oa=a.m,ia=a.n,sa=a.o,la=a.p,ua=a.q,ga=a.r,pa=a.s,ca=a.L,da=a.t,fa=a.u,ba=a.R,ma=a.P,Sa=a.v,Ta=a.w,ya=a.x,ha=a.y,Ca=a.z,Ia=a.E,Pa=a.G,va=a.Q,Da=a.H,Aa=a.I,Ra=a.J,_a=a.K,Ba=a.N,Ea=a.U,Ma=a.W,Fa=a.X,Oa=a.Y,wa=a.Z,La=a._,xa=a.$,ja=a.a0,Na=a.a1,za=a.a2,Ua=a.a3,Va=a.a4,Ga=a.a5,Ha=a.a6,ka=a.a7,Wa=a.a8,Qa=a.a9,Ka=a.aa,Ya=a.ab,Xa=a.ac,qa=a.ad,Ja=a.ae,Za=a.af,$a=a.ag,er=a.ah,ar=a.ai,rr=a.aj,tr=a.ak,nr=a.al,or=a.am,ir=a.an,sr=a.ao,lr=a.ap,ur=a.aq,gr=a.ar,pr=a.as,cr=a.at,dr=a.au,fr=a.av,br=a.aw,mr=a.ax,Sr=a.ay,Tr=a.az,yr=a.aA,hr=a.aB,Cr=a.aC,Ir=a.aD,Pr=a.aE,vr=a.aF,Dr=a.aG,Ar=a.aH,Rr=a.aI,_r=a.aJ,Br=a.aK,Er=a.aL,Mr=a.aM,Fr=a.aN,Or=a.aO,wr=a.aP,Lr=a.aQ,xr=a.aR,jr=a.aS,Nr=a.aT,zr=a.aU,Ur=a.aV,Vr=a.aW,Gr=a.aX,Hr=a.aY,kr=a.aZ,Wr=a.a_,Qr=a.a$,Kr=a.b0,Yr=a.b1,Xr=a.b2,qr=a.b3,Jr=a.b4,Zr=a.b5,$r=a.b6,et=a.b7,at=a.b8,rt=a.b9,tt=a.ba,nt=a.bb,ot=a.bc,it=a.bd,st=a.be,lt=a.bf,ut=a.bg,gt=a.bh,pt=a.bi,ct=a.bj,e("murmurhash2_32_gc",a.bk)},function(e){dt=e.R,ft=e.P,bt=e.n,mt=e.T,St=e.a,Tt=e.N,yt=e.b,ht=e.c,Ct=e.d,It=e.e,Pt=e.f,vt=e.g,Dt=e.A,At=e.h,Rt=e.C,_t=e.V},function(a){e({DeferredPipelineBuilder:a.D,ForwardPipelineBuilder:a.F})},function(a){e("PrefabLink",a.P)},function(a){e({Camera:a.C,CameraComponent:a.C})},function(a){e({ModelRenderer:a.M,RenderableComponent:a.M})},function(a){e("Renderer",a.R)},function(a){e({Game:a.G,game:a.g})},function(a){e("instantiate",a.i)},function(a){e({Event:a.E,EventAcceleration:a.a,EventGamepad:a.e,EventHMD:a.g,EventHandheld:a.h,EventHandle:a.f,EventKeyboard:a.b,EventMouse:a.c,EventTouch:a.d,KeyCode:a.K,SystemEventType:a.S,Touch:a.T})},function(a){e("shift",a.s)}],execute:function(){e("applyMixins",(function(e,a){a.forEach((function(a){Object.getOwnPropertyNames(a.prototype).forEach((function(r){"constructor"!==r&&Object.defineProperty(e.prototype,r,Object.getOwnPropertyDescriptor(a.prototype,r))}))}))})),e("memop",Object.freeze({__proto__:null,Pool:a,RecyclePool:r,CachedArray:t})),n.log=o,n.warn=i,n.error=s,n.assert=l,n._throw=u,n.logID=g,n.warnID=p,n.errorID=c,n.assertID=d,n.debug=f,n.path={join:b,extname:m,mainFileName:S,basename:T,dirname:y,changeExtname:h,changeBasename:C,_normalize:I,stripSep:P,get sep(){return v()}};var Bt=0,Et={};e("gfx",Object.freeze({__proto__:null,DescriptorSet:je,Buffer:Ne,CommandBuffer:ze,get ObjectType(){return Ue},get Status(){return Ve},get API(){return Ge},get SurfaceTransform(){return He},get Feature(){return ke},get Format(){return We},get FormatType(){return Qe},get Type(){return Ke},get BufferUsageBit(){return Ye},get BufferFlagBit(){return Xe},get MemoryAccessBit(){return qe},get MemoryUsageBit(){return Je},get TextureType(){return Ze},get TextureUsageBit(){return $e},get TextureFlagBit(){return ea},get FormatFeatureBit(){return aa},get SampleCount(){return ra},get VsyncMode(){return ta},get Filter(){return na},get Address(){return oa},get ComparisonFunc(){return ia},get StencilOp(){return sa},get BlendFactor(){return la},get BlendOp(){return ua},get ColorMask(){return ga},get ShaderStageFlagBit(){return pa},get LoadOp(){return ca},get StoreOp(){return da},get AccessFlagBit(){return fa},get ResolveMode(){return ba},get PipelineBindPoint(){return ma},get PrimitiveMode(){return Sa},get PolygonMode(){return Ta},get ShadeModel(){return ya},get CullMode(){return ha},get DynamicStateFlagBit(){return Ca},get StencilFace(){return Ia},get DescriptorType(){return Pa},get QueueType(){return va},get QueryType(){return Da},get CommandBufferType(){return Aa},get ClearFlagBit(){return Ra},get BarrierType(){return _a},get PassType(){return Ba},Size:Ea,DeviceCaps:Ma,DeviceOptions:Fa,Offset:Oa,Rect:wa,Extent:La,TextureSubresLayers:xa,TextureSubresRange:ja,TextureCopy:Na,TextureBlit:za,BufferTextureCopy:Ua,Viewport:Va,Color:Ga,BindingMappingInfo:Ha,SwapchainInfo:ka,DeviceInfo:Wa,BufferInfo:Qa,BufferViewInfo:Ka,DrawInfo:Ya,DispatchInfo:Xa,IndirectBuffer:qa,TextureInfo:Ja,TextureViewInfo:Za,SamplerInfo:$a,Uniform:er,UniformBlock:ar,UniformSamplerTexture:rr,UniformSampler:tr,UniformTexture:nr,UniformStorageImage:or,UniformStorageBuffer:ir,UniformInputAttachment:sr,ShaderStage:lr,Attribute:ur,ShaderInfo:gr,InputAssemblerInfo:pr,ColorAttachment:cr,DepthStencilAttachment:dr,SubpassInfo:fr,SubpassDependency:br,RenderPassInfo:mr,GeneralBarrierInfo:Sr,TextureBarrierInfo:Tr,BufferBarrierInfo:yr,FramebufferInfo:hr,DescriptorSetLayoutBinding:Cr,DescriptorSetLayoutInfo:Ir,DescriptorSetInfo:Pr,PipelineLayoutInfo:vr,InputState:Dr,CommandBufferInfo:Ar,QueueInfo:Rr,QueryPoolInfo:_r,FormatInfo:Br,MemoryStatus:Er,DynamicStencilStates:Mr,DynamicStates:Fr,GFXObject:Or,get AttributeName(){return wr},FormatInfos:Lr,DESCRIPTOR_BUFFER_TYPE:xr,DESCRIPTOR_SAMPLER_TYPE:jr,DESCRIPTOR_DYNAMIC_TYPE:Nr,DRAW_INFO_SIZE:zr,IsPowerOf2:Ur,FormatSize:Vr,FormatSurfaceSize:Gr,GetTypeSize:Hr,getTypedArrayConstructor:kr,formatAlignment:Wr,alignTo:Qr,Device:Kr,DefaultResource:Yr,Swapchain:Xr,Framebuffer:qr,InputAssembler:Jr,DescriptorSetLayout:Zr,PipelineLayout:$r,BlendState:et,BlendTarget:at,RasterizerState:rt,DepthStencilState:tt,PipelineStateInfo:nt,PipelineState:ot,Queue:it,RenderPass:st,Sampler:lt,Shader:ut,Texture:gt,GeneralBarrier:pt,TextureBarrier:ct,get LegacyRenderMode(){return Oe},get RenderType(){return we},DeviceManager:Le,deviceManager:xe}));var Mt=Object.freeze({__proto__:null,get CameraFOVAxis(){return D},get CameraProjection(){return A},get CameraAperture(){return R},get CameraISO(){return _},get CameraShutter(){return B},get CameraType(){return E},get TrackingType(){return M},get CameraUsage(){return F},SKYBOX_FLAG:O,Camera:w,get ModelType(){return L},Model:x,SubModel:j,Ambient:N,EnvironmentLightingType:z,Skybox:U,ShadowSize:V,ShadowType:G,PCFType:H,CSMLevel:k,CSMOptimizationMode:W,Shadows:Q,FogType:K,FOG_TYPE_NONE:Y,Fog:X,Octree:q,Skin:J,ColorTemperatureToRGB:Z,get LightType(){return $},nt2lm:ee,Light:ae,DirectionalLight:re,SphereLight:te,SpotLight:ne,PointLight:oe,RangedDirectionalLight:ie,get ProbeClearFlag(){return se},get ProbeType(){return le},ReflectionProbe:ue,LODData:ge,LODGroup:pe,ToneMappingType:ce,PostSettings:de}),Ft=function(e){if(void 0===Et[e]){var a=1<<Bt;Et[e]=a,Bt+=1}},Ot=Object.freeze({__proto__:null,addStage:Ft,scene:Mt,createIA:function(e,a){if(!a.positions)return console.error("The data must have positions field"),null;for(var r=[],t=a.positions.length/3,n=0;n<t;++n)r.push(a.positions[3*n],a.positions[3*n+1],a.positions[3*n+2]),a.normals&&r.push(a.normals[3*n],a.normals[3*n+1],a.normals[3*n+2]),a.uvs&&r.push(a.uvs[2*n],a.uvs[2*n+1]),a.colors&&r.push(a.colors[3*n],a.colors[3*n+1],a.colors[3*n+2]);var o=[];o.push(new ur(wr.ATTR_POSITION,We.RGB32F)),a.normals&&o.push(new ur(wr.ATTR_NORMAL,We.RGB32F)),a.uvs&&o.push(new ur(wr.ATTR_TEX_COORD,We.RG32F)),a.colors&&o.push(new ur(wr.ATTR_COLOR,We.RGB32F));var i=e.createBuffer(new Qa(Ye.VERTEX|Ye.TRANSFER_DST,Je.DEVICE,4*r.length,4*r.length/t));i.update(new Float32Array(r));var s=null;return a.indices&&(s=e.createBuffer(new Qa(Ye.INDEX|Ye.TRANSFER_DST,Je.DEVICE,2*a.indices.length,2))).update(new Uint16Array(a.indices)),e.createInputAssembler(new pr(o,[i],s))},programLib:fe,getDeviceShaderVersion:be,get RenderQueue(){return dt},get PassStage(){return ft},genHandle:me,getTypeFromHandle:Se,getBindingFromHandle:Te,getCountFromHandle:ye,getOffsetFromHandle:he,customizeType:Ce,type2reader:Ie,type2writer:Pe,type2validator:ve,getDefaultFromType:De,getStringFromType:Ae,overrideMacros:Re,get BatchingSchemes(){return _e},Pass:Be,nearestPOT:bt,TextureBufferPool:mt,MaterialInstance:Ee,PassInstance:Me,get PoolType(){return St},NULL_HANDLE:Tt,get Render2dView(){return yt},Render2dPool:ht,get NodeView(){return Ct},NodePool:It,get PassView(){return Pt},PassPool:vt,get AABBView(){return Dt},AABBPool:At,RenderScene:Fe,CameraVisFlags:Rt,VisibilityFlags:_t});e("renderer",Ot);var wt,Lt,xt=e("NodePool",function(){function e(e){this.poolHandlerComp=void 0,this._pool=void 0,this.poolHandlerComp=e,this._pool=[]}var a=e.prototype;return a.size=function(){return this._pool.length},a.clear=function(){for(var e=this._pool.length,a=0;a<e;++a)this._pool[a].destroy();this._pool.length=0},a.put=function(e){if(e&&-1===this._pool.indexOf(e)){e.removeFromParent();var a=this.poolHandlerComp?e.getComponent(this.poolHandlerComp):null;a&&a.unuse&&a.unuse(),this._pool.push(e)}},a.get=function(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];var t=this._pool.length-1;if(t<0)return null;var n=this._pool[t];this._pool.length=t;var o=this.poolHandlerComp?n.getComponent(this.poolHandlerComp):null;return o&&o.reuse&&o.reuse(arguments),n},e}());n.NodePool=xt;var jt=null!==(wt=globalThis.jsb)&&void 0!==wt?wt:{};e("native",{DownloaderHints:jt.DownloaderHints,Downloader:jt.Downloader,zipUtils:jt.zipUtils,fileUtils:jt.fileUtils,DebugRenderer:jt.DebugRenderer,copyTextToClipboard:null===(Lt=jt.copyTextToClipboard)||void 0===Lt?void 0:Lt.bind(jt),garbageCollect:jt.garbageCollect,reflection:jt.reflection,bridge:jt.bridge,jsbBridgeWrapper:jt.jsbBridgeWrapper,AssetsManager:jt.AssetsManager,EventAssetsManager:jt.EventAssetsManager,Manifest:jt.Manifest,saveImageData:jt.saveImageData,process:jt.process,adpf:jt.adpf}),n.renderer=Ot}}}));
